<link rel="stylesheet" href="../styles/default.css">
<link rel="icon" type="image/x-icon" href="../res/favicon.png">
<title>9client - Log In</title>

<div class="topbar">
    <img src="../res/logo.png" alt="9client Logo">
    <a href="">Games</a>
    <a href="">Catalog</a>
    <img src="https://assets.scu.edu/images/icon/cog.png" href="" class="topbaricon"></img>
    <a href="../login/index.html" style="float: right;">Log In</a>
</div>
<div class="bg"></div>

<body>
    <div class="middlebox" style="max-width: 500px; padding-top: 100px;">
        <h1 style="left: 50%; transform: translateX(-50%); text-align: center;">
            Log In
        </h1>

        <div class="textform">
            <a id="userlabel">Username</a>
            <br>
            <input type="text" name="username" id="usernamefield" required>
        </div>

        <br>

        <div class="textform">
            <a id="pwordlabel">Password</a>
            <br>
            <input type="password" name="password" id="pwordfield" required>
        </div>

        <br>
        <button onclick=updatevalid() id="submit" value="Submit" style="margin-bottom: 10px; padding: 8px 15px 8px 15px;">
            Submit
        </button>
        <br>
        <a>Need an account? </a><a href="../signup/index.html">Sign up.</a>
    </div>
</body>

<script>
    var taken_names = {
        "9client": true,
    }

    var req_field = "Required field"
    var err_style = "color: rgb(255,75,75);"

    let userlabel = document.getElementById("userlabel")
    let pwordlabel = document.getElementById("pwordlabel")

    let usernamefield = document.getElementById("usernamefield")
    let pwordfield = document.getElementById("pwordfield")

    function submitform() {
        /* do post shit */
    }

    function updatevalid() {

        var username_valid = false
        var pword_valid = false

        if (usernamefield.value) {
            if (taken_names[usernamefield.value]) {
                userlabel.style = "color: whitesmoke;"
                userlabel.innerText = "Username"
                username_valid = true
            } else {
                userlabel.style = err_style
                userlabel.innerText = "Invalid username"
            };
        } else {
            userlabel.style = err_style
            userlabel.innerText = req_field
        };

        if (pwordfield.value) {
            pwordlabel.style = "color: whitesmoke;"
            pwordlabel.innerText = "Password"
            pword_valid = true
        } else {
            pwordlabel.style = err_style
            pwordlabel.innerText = req_field
        };

        if (username_valid & pword_valid) {
            return true
        }

    }
</script>